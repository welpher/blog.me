import{_ as t,c as s,o as e,U as o,ao as i,ap as a}from"./chunks/framework.I0qYP7JU.js";const f=JSON.parse('{"title":"CentOS下安装Git服务端遇到的问题","description":"","frontmatter":{"title":"CentOS下安装Git服务端遇到的问题","tags":["centos","gitosis"],"id":1039,"author":"welpher.yu","categories":["服务器"],"date":"2014-07-11T12:28:00.000Z"},"headers":[],"relativePath":"posts/2014/1039.md","filePath":"posts/2014/1039.md"}'),p={name:"posts/2014/1039.md"},n=o('<p>一般用户的机器上都不会只用到自己服务器上的Git，还会有Github、Oschina等一些开源的Ｇit，所以要配置.ssh/config这个文件，指向不同的密钥文件；然后自己搭建的服务器如果端口不是22，那还要在这个文件里配置Port。</p><p>根据网络大多数的教程，会用以下命令去服务上获取gitosis-admin：</p><p><code>git clone git@VPS的IP``/Domain``:``/home/git/repositories/gitosis-admin``.git</code></p><p><code>但是我在[git-scm](http://git-scm.com/book/en/Git-on-the-Server-Gitosis)上看到的却是这样：</code></p><p>git clone git@gitserver:gitosis-admin.git</p><p>这两种方式我都试过，按照默认安装下来的，第一种命令在输入服务器git用户的密码后会成功将gitosis-admin.git获取下来，第二种方式在输入用户密码后会出现以下错误：</p><p><img src="'+i+'" alt="20140711124037" title="20140711124037"></p><blockquote><p>fatal: ‘gitosis-admin’dose not appear to be a git repository</p><p>fatal: Could not read from remote repository.</p></blockquote><p>一直搞不清楚，为什么在开启publikey的情况下会让输入git用户的用户密码？为什么git-scm上的这种获取方式在输入git的用户密码后会提示以上的错误。</p><p>后来在日志里发现了问题：</p><p><img src="'+a+`" alt="20140711124554" title="20140711124554"></p><blockquote><p>Authentication refused: bad ownership or modes for directory /home/git/.ssh</p></blockquote><p>由于centos对权限的敏感，导致了这个问题。其实有时候centos真的坑很多，明明是按照别人的教程，但是却运行不起来，not working，其实就是centos的权限很敏感。</p><p>按照下面的命令，就会解决所有的问题。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>chmod g-w /home/your_user</span></span>
<span class="line"><span>chmod 700 /home/your_user/.ssh</span></span>
<span class="line"><span>chmod 600 /home/your_user/.ssh/authorized_keys</span></span></code></pre></div>`,15),c=[n];function r(d,l,g,m,_,h){return e(),s("div",null,c)}const b=t(p,[["render",r]]);export{f as __pageData,b as default};
